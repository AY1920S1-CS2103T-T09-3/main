<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>&lt;WEN SHUFA&gt; - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">ClerkPro</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T09-3/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>&lt;WEN SHUFA&gt; - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-clerkpro"><a class="link" href="#project-clerkpro">PROJECT: ClerkPro</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>ClerkPro is a desktop application used for managing clinic&#8217;s appointments, queue and scheduling. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section’s purpose is to summarise my contributions for the duration of this project. For more details about the contributions, click the link to the corresponding pull request.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement 1</strong>: added <strong>Appointment Management</strong> feature</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The Appointment feature enables users to manage appointments for patients by providing basic Create, Read, Update, Delete (CRUD) of appointments. User is also able to find missed appointments and settle each missed appointment efficiently.</p>
</li>
<li>
<p>Justification: This feature greatly improves the product as it meets the necessary demands a receptionist faces on a
day-to-day basis, i.e. Add appointments.</p>
</li>
<li>
<p>Highlights: Appointments, in reality, rely heavily on different components such as patients and onduty doctors to be booked.
The challenge in implementing this feature was checking appointments time with doctors' duty shifts. It requires an in-depth understanding of clerkPro’s architecture.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement 2</strong>: added <strong>Duty Shift Schedule</strong> feature</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The duty shift scheduling provides users the ability to schedule duty shifts for doctors. It can help doctors to check, add, cancel and edit duty shifts efficiently.</p>
</li>
<li>
<p>Justification: This feature is important as the user would need to schedule duty shift for doctor. i.e. change duty shift.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong></p>
<div class="ulist">
<ul>
<li>
<p>The following link contains all the code contributed throughout the entire project:
<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=woon&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;until=2019-11-10&amp;tabType=authorship&amp;tabAuthor=woon17&amp;tabRepo=AY1920S1-CS2103T-T09-3%2Fmain%5Bmaster%5D">Functional code</a> and
<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=woon&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;until=2019-11-10&amp;tabType=authorship&amp;tabAuthor=woon17&amp;tabRepo=AY1920S1-CS2103T-T09-3%2Fmain%5Bmaster%5D">Test code</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Contributed to forum discussions (example: <a href="https://github.com/nus-cs2103-AY1920S1/forum/issues/144">1</a>]</p>
</li>
<li>
<p>Reported bugs and suggestions. i.e. I mentioned that user should not edit or delete data file in UG.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Added command information regarding the appointment feature into the User Guide:(examples: <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/221">1</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/143">2</a>)</p>
</li>
<li>
<p>Added examples to different commands:(example: <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/237">1</a>)</p>
</li>
<li>
<p>Added UML diagrams for appointment feature into the Development Guide:(examples: <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/92">1</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Database:</p>
<div class="ulist">
<ul>
<li>
<p>Edited pre-load database(Pull request <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/139">#139</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage from 66.25% to 71.55% (Pull requests <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/112">#112</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="appointment-management"><a class="link" href="#appointment-management">Appointment Management</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Before you process any commands in appointment management, please ensure you have a patient with referenceid of E0000001A by using <code>patient E0000001A</code>.<br>
You can refer to <code>newpatient</code> command to register this patient if the patient is not registered.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="displays-appointments-code-appointments-code"><a class="link" href="#displays-appointments-code-appointments-code">Displays appointments: <code>appointments</code></a></h4>
<div class="paragraph">
<p>Displays a sorted list of upcoming appointments for the patient that is associated to the given <code>REFERENCE_ID</code>.
If no keyword is given, all upcoming appointments will be displayed.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>appointments [&lt;REFERENCE_ID&gt;]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="schedules-an-appointment-code-newappt-code"><a class="link" href="#schedules-an-appointment-code-newappt-code">Schedules an appointment: <code>newappt</code></a></h4>
<div class="paragraph">
<p>Schedules a new appointments for a patient.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The appointment(s) will be rejected by the system, if there are insufficient staff doctors on duty at the time of the appointment.<br>
e.g. Cannot schedule more appointments than available doctors on duty.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If both <code>-reoccur &lt;INTERVALS&gt;</code> and <code>-num &lt;REOCCURRING_TIMES&gt;</code> fields are present, appointments of these <code>&lt;REOCCURRING_TIMES&gt;</code> will be added to the patient
appointment schedule in <code>&lt;INTERVALS&gt;</code>. Otherwise, only one event will be added.<br></p>
</div>
<div class="paragraph">
<p>If the optional field <code>[-end &lt;END_TIMING&gt;]</code> is absent, default end time is 30 mins after start time of the appointment. Otherwise, end time will be <code>[-end &lt;END_TIMING&gt;]</code>.<br></p>
</div>
<div class="paragraph">
<p>The optional field <code>[-reoccur &lt;INTERVALS&gt;]</code> can be <code>-reoccur w</code>, <code>-reoccur m</code>, or <code>-reoccur y</code>.They represent to add weekly, monthly, yearly repeat appointment respectively.</p>
</div>
<div class="paragraph">
<p>Format: <code>newappt -id &lt;PATIENT_REFERENCE_ID&gt; -start &lt;START_TIMING&gt; [-end &lt;END_TIMING&gt;] [-reoccur &lt;INTERVALS&gt; -num &lt;REOCCURRING_TIMES&gt;]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="acknowledges-a-appointment-code-ackappt-code"><a class="link" href="#acknowledges-a-appointment-code-ackappt-code">Acknowledges a appointment: <code>ackappt</code></a></h4>
<div class="paragraph">
<p>Acknowledges the most upcoming appointment only if patient arrives on the same day and the arriving time is before the appointment&#8217;s end time.<br>
Format: <code>ackappt &lt;REFERENCE_ID&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="cancels-an-appointment-code-cancelappt-code"><a class="link" href="#cancels-an-appointment-code-cancelappt-code">Cancels an appointment: <code>cancelappt</code></a></h4>
<div class="paragraph">
<p>Cancels the specified appointment.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To avoid accidental cancellation of another patient&#8217;s appointments, the user must first narrow down the search to a single patient by using the <code>appointments [&lt;REFERENCE_ID&gt;]</code> command.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>cancelappt &lt;ENTRY_ID&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="changes-the-appointment-date-code-editappt-code"><a class="link" href="#changes-the-appointment-date-code-editappt-code">Changes the appointment date: <code>editappt</code></a></h4>
<div class="paragraph">
<p>Changes the timing for an existing appointment.<br>
If optional field <code>[-end &lt;END_TIMING&gt;]</code> is not present, default endTiming is 30 mins after startTiming. Otherwise new endTiming will be <code>[-end &lt;END_TIMING&gt;]</code>.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To avoid accidental rescheduling of another patient&#8217;s appointments, the user must first narrow down the search to a single patient using the <code>appointments [&lt;REFERENCE_ID&gt;]</code> command.<br>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The operation is rejected if there are insufficient staff doctors on duty at the time of the new appointment.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>editappt -entry &lt;ENTRY_ID&gt; -start &lt;START_TIMING&gt; [-end &lt;END_TIMING&gt;]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="lists-patients-who-have-missed-their-appointments-code-missappt-code"><a class="link" href="#lists-patients-who-have-missed-their-appointments-code-missappt-code">Lists patients who have missed their appointments: <code>missappt</code></a></h4>
<div class="paragraph">
<p>Lists all appointments that are missed.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An appointment is considered missed if the appointment was not acknowledged and the current time has passed the appointment&#8217;s end time.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>missappt</code></p>
</div>
</div>
<div class="sect3">
<h4 id="sets-missed-appointments-as-settled-notified-code-settleappt-code"><a class="link" href="#sets-missed-appointments-as-settled-notified-code-settleappt-code">Sets missed appointments as settled/notified: <code>settleappt</code></a></h4>
<div class="paragraph">
<p>Settles and removes the missed appointment based on the given index.<br>
Settling refers to the user following up on contacting the patient who has missed his/her appointment.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Only missed appointments can be settled. The user must first display the missed appointment listing by using <code>missappt</code>, before using this command.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>settleappt &lt;ENTRY_ID&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="shows-the-empty-slots-code-slot-code-v2-0"><a class="link" href="#shows-the-empty-slots-code-slot-code-v2-0">Shows the empty slots: <code>slot</code> (v2.0)</a></h4>
<div class="paragraph">
<p>List all the available empty slots for patients to make appointments<br></p>
</div>
<div class="paragraph">
<p>Format: <code>slot -start &lt;START_DATE&gt;</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="duty-shift-management"><a class="link" href="#duty-shift-management">Duty-shift Management</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Before you process any commands in Duty-shift Management, please ensure you have a doctor with referenceId of W0000001A by using <code>doctor W0000001A</code>.<br>
You can refer to <code>newdoctor</code> command to register this doctor if the doctor is not registered.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="displays-duty-shifts-code-shifts-code"><a class="link" href="#displays-duty-shifts-code-shifts-code">Displays duty shifts: <code>shifts</code></a></h4>
<div class="paragraph">
<p>Displays a sorted list of upcoming duty shifts for the staff doctors that is associated to the given <code>REFERENCE_ID</code>.
If no keyword is given, all upcoming shifts will be displayed.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>shifts [&lt;REFERENCE_ID&gt;]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="adds-a-duty-shift-for-a-doctor-code-newshift-code"><a class="link" href="#adds-a-duty-shift-for-a-doctor-code-newshift-code">Adds a duty shift for a doctor: <code>newshift</code></a></h4>
<div class="paragraph">
<p>If both <code>-reoccur &lt;INTERVALS&gt;</code> and <code>-num &lt;REOCCURRING_TIMES&gt;</code> fields are present, duty shifts of these <code>&lt;REOCCURRING_TIMES&gt;</code> will be added to the doctor duty roster in <code>&lt;INTERVALS&gt;</code>.
Otherwise, only one shift will be added.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>newshift -id &lt;STAFF_REFERENCE_ID&gt; -start &lt;START_TIMING&gt; -end &lt;END_TIMING&gt; [-reoccur INTERVALS -num REOCCURRING_TIMES]</code></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="appointment-feature"><a class="link" href="#appointment-feature">Appointment Feature</a></h3>
<div class="paragraph">
<p>The Appointment feature enables users to manage appointments for patients by providing basic Create, Read, Update, Delete (CRUD) of appointments. User is also able to find missed appointments and settle each missed appointment efficiently.</p>
</div>
<div class="paragraph">
<p>The number of scheduled appointments cannot be more than the number of on-duty staff doctors at any given time.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The current appointment feature is implemented using a list which works like a balanced binary search tree. This allows us to search for an appointment within O(logn) instead of O(n) time, where n is the number of appointments in the list.</p>
</div>
<div class="paragraph">
<p>The Appointment feature contains multiple operations to indirectly manipulate the <code>UniqueEventList</code>. The implemented operations include:</p>
</div>
<div class="paragraph">
<p><code>newappt</code> Command - Creates an new appointment or reoccurring appointments for a patient.</p>
</div>
<div class="paragraph">
<p><code>ackappt</code> Command - Acknowledges an appointment whenever the patient checks in with the clerk.</p>
</div>
<div class="paragraph">
<p><code>appointments</code> Command - Lists all upcoming appointments or appointments which involves the patient whose referenceId contains a certain keyword.</p>
</div>
<div class="paragraph">
<p><code>editappt</code> Command - Edits an appointment timing.</p>
</div>
<div class="paragraph">
<p><code>cancelappt</code> Command - Cancels an appointment.</p>
</div>
<div class="paragraph">
<p><code>missappt</code> Command - Lists all missed appointments.</p>
</div>
<div class="paragraph">
<p><code>settleappt</code> Command - Removes a missed appointment.</p>
</div>
<div class="paragraph">
<p>The appointment class diagram below illustrates the interactions between the Appointment class and associated classes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AppointmentClassDiagram.png" alt="AppointmentClassDiagram">
</div>
<div class="title">Figure 1. Appointment class diagram</div>
</div>
<div class="paragraph">
<p>The appointment will be rejected by the system, if there are insufficient staff doctors on duty at the time of the appointment.<br>
Each <code>Appointment</code> object consists of a <code>PersonReferenceId</code>, <code>Timing</code>, <code>Status</code>. <code>Timing</code> class has 2 <code>DateTime</code> objects which indicates the start and end time of the <code>appointment</code>. The <code>UniqueEventList</code> contains 0 or more appointments.</p>
</div>
<div class="paragraph">
<p>The current implementation of <code>Appointment</code> checks with <code>patient</code> object by the unique <code>referenceId</code> and also checks the timing with doctors' dutyRoster. If the <code>referenceId</code> exists within the Model#UniquePersonList and the timing is valid, then the <code>Appointment</code> object is constructed. This ensures that the patient is registered before making any appointments and the appointment&#8217;s timing is valid.</p>
</div>
<div class="paragraph">
<p>The appointment will be rejected by the system, if there are insufficient staff doctors on duty at the time of the appointment.<br></p>
</div>
<div class="paragraph">
<p>Before an appointment can be scheduled, the system first checks the total number of staff doctors on duty in that timeslot. Next, the system checks the existing appointments in that timeslot. If the number of appointments in that timeslot is less than the number of doctors, the appointment will be scheduled. Otherwise, the appointment will not be scheduled.</p>
</div>
</div>
<div class="sect3">
<h4 id="code-newappt-code-command"><a class="link" href="#code-newappt-code-command"><code>newappt</code> Command</a></h4>
<div class="paragraph">
<p>The <code>newappt</code> command is similar to the <code>new</code> command of patient and doctor. The command takes in the parameters required to construct <code>ReferenceId</code>, <code>DateTime</code> and <code>Status</code>. The image below shows how the <code>Appointment</code> object is constructed.</p>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a <code>newappt</code> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddAppointmentActivityDiagram.png" alt="AddAppointmentActivityDiagram">
</div>
<div class="title">Figure 2. Interactions Inside the Logic Component when a user executes a <code>newappt</code> command</div>
</div>
</div>
<div class="sect3">
<h4 id="code-ackappt-code-command"><a class="link" href="#code-ackappt-code-command"><code>ackappt</code> command</a></h4>
<div class="paragraph">
<p>The <code>ackappt</code> command marks the patient&#8217;s the most upcoming appointment as acknowledged only if it is on the same day and it is before the appointment&#8217;s end time and also updates <code>UniqueEventList</code> to display the rest appointments belonging to the patient.</p>
</div>
</div>
<div class="sect3">
<h4 id="code-appointments-code-command"><a class="link" href="#code-appointments-code-command"><code>appointments</code> Command</a></h4>
<div class="paragraph">
<p>The <code>appointments</code> command works in two different ways.</p>
</div>
<div class="paragraph">
<p>Case 1: <code>appointments referenceId</code></p>
</div>
<div class="paragraph">
<p>The <code>appointments</code> command searches for appointments that belong to the patient based on the given <code>referenceId</code>. The filtered appointments are found in <code>ModelManager</code>. The list is instantiated by filtering the <code>UniqueEventList</code> using <code>EventContainsKeywordPredicate</code> which is created from the <code>ReferenceId</code> argument supplied by the user.</p>
</div>
<div class="paragraph">
<p>Case 2: <code>appointments</code></p>
</div>
<div class="paragraph">
<p>If the <code>appointments</code> command is executed without any other arguments, it executes with the predicate <code>EventContainsApprovedStatusPredicate</code>. updateFilteredAppointmentList() is called and the entire list of upcoming appointments is shown to the user.</p>
</div>
</div>
<div class="sect3">
<h4 id="code-editappt-code-command"><a class="link" href="#code-editappt-code-command"><code>editappt</code> Command</a></h4>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a <code>editappt</code> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ChangeAppointmentActivityDiagram.png" alt="ChangeAppointmentActivityDiagram">
</div>
<div class="title">Figure 3. Interactions Inside the Logic Component when a user executes a <code>editappt</code> command</div>
</div>
</div>
<div class="sect3">
<h4 id="code-cancelappt-code-command"><a class="link" href="#code-cancelappt-code-command"><code>cancelappt</code> Command</a></h4>
<div class="paragraph">
<p><code>cancelappt</code> simply takes in the index of the target appointment to cancel according to the displayed appointment list.</p>
</div>
<div class="paragraph">
<p>Given below is the sequence diagram for interactions within the <code>Logic</code> component for the <code>execute("cancelappt 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CancelAppointmentSequenceDiagram.png" alt="CancelAppointmentSequenceDiagram">
</div>
<div class="title">Figure 4. Interactions Inside the Logic Component for the <code>cancelappt 1</code> Command</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-store-timing-fields"><a class="link" href="#aspect-how-to-store-timing-fields">Aspect:  How to store Timing fields</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Create <code>DateTime</code> and <code>Timing</code> class to store</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Makes it easier to calculate timings and clashes between multiple appointments with different timing field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cons</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Requires additional code to implement Timing class and interact with other common methods that rely on DateTime.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Alternative 2:</strong> Store as Strings</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Makes it easier to implement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cons</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Requires additional code to convert into <code>DateTime</code> class when carrying out calculating methods.</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-display-appointments"><a class="link" href="#aspect-display-appointments">Aspect: display appointments</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Display appointments in a tab</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Creates an intuitive and easily navigable screen to display appointments.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cons</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Decreases the efficiency of CLI by having to use GUI inputs.</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Alternative 2:</strong> Keeps the onscreen clutter at a minimum and stays in line with the CLI concept.</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Pros</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Makes it easier to implement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cons</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Increases difficulty in freely accessing appointments.</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="duty-shift-scheduling"><a class="link" href="#duty-shift-scheduling">Duty Shift Scheduling</a></h3>
<div class="paragraph">
<p>The duty shift scheduling provides users the ability to schedule duty shifts for doctors. It can help doctors to check, add, edit duty shifts efficiently.</p>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>The duty shift scheduling contains multiple operations to indirectly manipulate the <code>UniqueEventList</code>. The implemented operations include:</p>
</div>
<div class="paragraph">
<p><code>newshift</code> Command - Adds a duty shift or reoccurring duty shifts to a doctor.</p>
</div>
<div class="paragraph">
<p><code>shifts</code> Command - Lists all duty shifts involving the doctor&#8217;s referenceId which contains the keyword.</p>
</div>
<div class="paragraph">
<p><code>editshift</code> Command - Change a current duty shift&#8217;s timing.</p>
</div>
<div class="paragraph">
<p><code>cancelshift</code> Command - Cancels duty shift.</p>
</div>
<div class="paragraph">
<p>Each Duty Shift is an <code>Event</code> object consists of a <code>PersonReferenceId</code>, <code>Timing</code>, <code>Status</code>. <code>Timing</code> class has 2 <code>DateTime</code> object as they indicate the start and end times of the duty shift.</p>
</div>
<div class="paragraph">
<p>The current implementation of duty shift checks with doctor object by the unique <code>referenceId</code> and also checks the timing with appointments. If the <code>referenceId</code> exists within the Model#UniquePersonList and the timing is valid, then the duty shift is constructed. This ensures that the doctor is registered and the duty shift&#8217;s timing is valid before making any duty shifts.</p>
</div>
<div class="paragraph">
<p>The duty  shift will be rejected by the system, if there are insufficient staff doctors on duty at the given time.<br></p>
</div>
<div class="paragraph">
<p>Before a duty shift&#8217;s time can be edited, the system first checks the total number of staff doctors on duty in that timeslot. Next, the system checks the existing appointments in that timeslot. If the number of appointments in that timeslot is less than the number of doctors, the duty shift&#8217;s time will be changed. Otherwise, the duty shift will not be allowed to edit.</p>
</div>
</div>
<div class="sect3">
<h4 id="code-newshift-code-command"><a class="link" href="#code-newshift-code-command"><code>newshift</code> Command</a></h4>
<div class="paragraph">
<p>The <code>newshift</code> command behaves similarly to the <code>new</code> command used for patient and doctor. The command takes in the parameters required to construct <code>ReferenceId</code>, <code>DateTime</code> and <code>Status</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="code-shifts-code-command"><a class="link" href="#code-shifts-code-command"><code>shifts</code> Command</a></h4>
<div class="paragraph">
<p>The <code>shifts</code> command works in two different ways.</p>
</div>
<div class="paragraph">
<p>Case 1: <code>shifts ReferenceId</code></p>
</div>
<div class="paragraph">
<p>The shifts command searches for duty shifts that belong to the doctor based on the given <code>ReferenceId</code>. The filtered shifts are found in <code>ModelManager</code>. The list is instantiated by filtering the <code>UniqueEventList</code> using <code>EventContainsKeywordPredicate</code> which is created from the <code>referenceId</code> argument supplied by the user.</p>
</div>
<div class="paragraph">
<p>Case 2: <code>shifts</code></p>
</div>
<div class="paragraph">
<p>The shifts command behaves similarly to <code>shifts ReferenceId</code> when it does not take in any other arguments. Instead, it automatically executes with the predicate <code>EventContainsApprovedStatusPredicate</code>. updateFilteredEventList() is called and the entire list of the upcoming duty shifts is shown to the user.</p>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 14:13:11 UTC</div></div></div></body></html>