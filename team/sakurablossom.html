<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Shawn Lum - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">ClerkPro</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T09-3/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Shawn Lum - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project portfolio briefly introduces the project, ClerkPro and outlines my contributions to the project&#8217;s key features.</p>
</div>
<div class="sect2">
<h3 id="about-the-team"><a class="link" href="#about-the-team">1.1. About the Team</a></h3>
<div class="paragraph">
<p>My team consists of 4 Computer Science Undergraduate students, including myself.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-the-project-clerkpro"><a class="link" href="#about-the-project-clerkpro">1.2. About the Project: ClerkPro</a></h3>
<div class="paragraph">
<p>ClerkPro is a desktop application used for appointments scheduling and queue management system targeted clerical staff working in small clinics.
Our application is optimised for individuals who <strong>prefer to work with a Command Line Interface (CLI)</strong>
while still having the benefits of a Graphical User Interface (GUI).</p>
</div>
</div>
<div class="sect2">
<h3 id="key-to-the-icons-and-formatting-used-in-the-document"><a class="link" href="#key-to-the-icons-and-formatting-used-in-the-document">1.3. Key to the Icons and Formatting Used in the Document</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This symbol indicates extra information or definition.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This symbol indicates an important design decision.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Model</code> :
Text with this font and grey highlight indicates a component, class or object in the architecture of
the application. It also indicates a generic command format for the command box in the User Guide.</p>
</div>
<div class="paragraph">
<p><code class="blue">command</code> :
Text with this blue font and grey highlight indicates a command that can be inputted by the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="introduction-to-clerkpro"><a class="link" href="#introduction-to-clerkpro">1.4. Introduction to ClerkPro</a></h3>
<div class="paragraph">
<p>This desktop application consists of 4 tabs, a right side panel to display the patients currently being served,
a command box for users to input their commands and a response box.
Each tab serves a different purpose, but are designed to facilitate an effortless experience in managing the
scheduling of appointments for patients.</p>
</div>
<div class="paragraph">
<p>The following shows the various tabs and their respective purposes (from top to bottom):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Patient tab: Keeps track of patient particulars.</p>
</li>
<li>
<p>Appointments tab: Handles the scheduling of patients' appointments</p>
</li>
<li>
<p>Staff tab: Keeps track of particulars of staff doctors.</p>
</li>
<li>
<p>Duty Shift tab: Records the shift timings of which doctor is on duty.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Ui.png" alt="Ui" width="300">
</div>
<div class="title">Figure 1. A quick glance at ClerkPro in action.</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">2. Summary of contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>My responsibilities includes management of patient particulars and morphing the backend of the application
to support the its appointment management features. This section will describe my contributions in to this project in greater details.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Implementation of <strong>Reactive Search (Multi-Threading and Logic)</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: As the user types, an instant preview of search results is provided.
This feature is used to search for registered patients, appointments, doctors and duty shifts.</p>
</li>
<li>
<p>Justification: Enhances user experience (UX) significantly as the system is able to narrow down search results as the user is giving new inputs.</p>
</li>
<li>
<p>Highlights: Requires understanding the process of JavaFX main application thread and plan to defer updates in a way that is not disruptive to UX of other components.</p>
</li>
<li>
<p>Credits: Daniel Tan Jun Xian (team member for the proposal of the UX concept)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability to undo/redo previous commands</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: Allows the user to undo all previous commands one at a time. Preceding undo commands can be reversed by using the redo command.</p>
</li>
<li>
<p>Justification: Provide a convenient way to rectify any mistakes made by the user.</p>
</li>
<li>
<p>Highlights: After in-depth analysis of design alternatives.
We are able to mimic the undo/Redo behaviour without additional logic, by pairing the command to be executed with its inverse.
The implementation was challenging as it required changes to existing commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: <strong>prevents over scheduling of appointments</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: Ensures that user do not mistakenly schedule more patient appointments than available on-duty doctors at any given appointment of time.</p>
</li>
<li>
<p>Justification: This feature assists the user to avoid mistakenly over scheduling appointments for patients.</p>
</li>
<li>
<p>Highlights:
Through the custom implementation of a TreeList, we are able find the number of scheduled appointments in a given time range, with a O(log(n)) time complexity.
This same functionality can be used to determine the number of doctors on-duty during a given timing.
Allowing the system to enforce that the number of scheduled appointments cannot be more than the on-duty doctors at point of time.
Due to the limitation imposed the JavaFx&#8217;s implementation of a non-extendable <code>FilteredList&lt;E&gt;</code>, which inherits from the abstract <code>TransformationList&lt;E&gt;</code> class,
a custom implementation of a TreeSet that implements a <code>List&lt;E&gt;</code> was necessary.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Patients and doctors can be identified using a unique reference id.</p>
</li>
<li>
<p><strong>Minor enhancement</strong>: Modified fields to be optional for patients and doctors. These optional fields include phone number, home address and email.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=sakurablossom&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=true&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=SakuraBlossom&amp;tabRepo=AY1920S1-CS2103T-T09-3%2Fmain%5Bmaster%5D">Functional code</a>]
[<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=sakurablossom&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=true&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=SakuraBlossom&amp;tabRepo=AY1920S1-CS2103T-T09-3%2Fmain%5Bmaster%5D">Test code</a>]<br></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.1</code> and <code>v1.2</code> (2 releases) on GitHub</p>
</li>
<li>
<p>Set up team repository.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>CRUD for appointment management (Pull requests
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/41">#41</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/74">#74</a>)</p>
</li>
<li>
<p>Implements undo and redo functionality (Pull requests
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/3">#3</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/73">#73</a>)</p>
</li>
<li>
<p>Implements optional fields for person (Pull requests
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/115">#115</a>)</p>
</li>
<li>
<p>Implements reactive search (Pull requests
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/114">#114</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/145">#145</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Updates to User and developer Guide: (Pull requests
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/99">#99</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/167">#167</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/235">#235</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/247">#247</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/173">#173</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-3/main/pull/188">#188</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (issue
 <a href="https://github.com/SakuraBlossom/ped/issues/7">1</a>,
<a href="https://github.com/SakuraBlossom/ped/issues/3">2</a>,
<a href="https://github.com/SakuraBlossom/ped/issues/6">3</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Set up Travis and Codacy for team repo</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">3. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are some sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Reactive search</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The listing automatically filters to display only the most relevant results when searching for an existing entry.</p>
</li>
<li>
<p>When searching for a specific patient or staff, using the <code>patient</code> or <code>doctor</code> command, the results are filtered based
on whether the person&#8217;s reference Id, name or phone number contains the given keyword.</p>
</li>
<li>
<p>When searching for a specific appointment or duty shift, using the <code>appointments</code> or <code>shifts</code> command, the results are filtered based
on whether the events involves a person whose reference Id contains the given keyword.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>===
=== Patient Management</p>
</div>
<div class="sect3">
<h4 id="searches-patient-by-arguments-code-patient-code"><a class="link" href="#searches-patient-by-arguments-code-patient-code">3.1. Searches patient by arguments: <code>patient</code></a></h4>
<div class="paragraph">
<p>Filters patients whose reference ids, names or phone number contains the given keyword.<br>
If no search keyword is provided, all registered patients will be displayed.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>patient [&lt;SEARCH_KEYWORD&gt;]</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>patient S0000001A</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="registers-a-new-patient-code-newpatient-code"><a class="link" href="#registers-a-new-patient-code-newpatient-code">3.2. Registers a new patient: <code>newpatient</code></a></h4>
<div class="paragraph">
<p>Registers a new patient. Only patient&#8217;s reference id and name are compulsory fields<br></p>
</div>
<div class="paragraph">
<p>Format:  <code>newpatient -id &lt;PATIENT_REFERENCE_ID&gt; -name &lt;PATIENT_NAME&gt; [-phone &lt;PHONE_NUM&gt;]
 [-email &lt;EMAIL&gt;] [-address &lt;ADDRESS&gt;] [-tag &lt;Tags&gt;]&#8230;&#8203;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>newpatient -id E0000001A -name Edmond Halley -phone 85732743 -email <a href="mailto:halley@example.com">halley@example.com</a> -address 12, Kent ridge Ave 3, #01-11 -tag AIDS</code></p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
As a design decision, undoing the registration of a patient via the <code>undo</code> command is allowed.
However, though our target users are clerks working at clinics, our clients would be the employers and stakeholders of said clinics.
Hence, the user <strong>should not have administrative privilege to unregister any patient already in the system.</strong>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="updates-patients-profiles-code-editpatient-code"><a class="link" href="#updates-patients-profiles-code-editpatient-code">3.3. Updates patients’ profiles: <code>editpatient</code></a></h4>
<div class="paragraph">
<p>Updates the particulars of a patients<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Editing tags will overwrite all existing tags. Patients particulars should not be edited while patient is in queue or being served.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format: <code>editpatient -entry &lt;ENTRY_ID&gt; [-id &lt;PATIENT_REFERENCE_ID&gt;] [-name &lt;NAME&gt;] [-phone &lt;PHONE_NUM&gt;]
 [-email &lt;EMAIL&gt;] [-address &lt;ADDRESS&gt;] [-tag &lt;Tags&gt;]&#8230;&#8203;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>editpatient -entry 1 -phone 91200567 -email <a href="mailto:edmond@example.com">edmond@example.com</a></code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">4. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are some sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="reactive-search"><a class="link" href="#reactive-search">4.1. Reactive Search</a></h3>
<div class="paragraph">
<p>The main concept behind reactive searching is to provide feedback to the user of their search results for
a given keyword as they type. However, filtering larger data sets may be a time consuming process.
Hence, the queries are processed on a separate thread to avoid blocking the <code>UI</code> thread.</p>
</div>
<div class="sect3">
<h4 id="phase-2-multi-threading-and-synchronisation-of-reactive-search-requests"><a class="link" href="#phase-2-multi-threading-and-synchronisation-of-reactive-search-requests">4.1.1. Phase 2: Multi-threading and synchronisation of Reactive Search requests</a></h4>
<div class="paragraph">
<p>If the <code>UI</code> triggers another reactive search request before previous request is completed,
the thread of the previous request is first interrupted and joined to the thread of the new request.
Only after the previous thread has been successfully interrupted, the new request will be processed.
This is done to ensure that the UI thread only displays the results of the latest request.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ReactiveSearchThreadingSequenceDiagram.png" alt="ReactiveSearchThreadingSequenceDiagram">
</div>
<div class="title">Figure 2. Sequence Diagram showing how the multi-threading is handled.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">4.2. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/StorageClassDiagramV2.png" alt="StorageClassDiagramV2">
</div>
<div class="title">Figure 3. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="{repoURL}/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>saves <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>saves and read data of the particulars of patients and doctors in json format.</p>
</li>
<li>
<p>saves and read data of the Appointments and duty shifts data in json format.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>JsonAddressBookStorage</code> class is reused to store the details of both doctors and patients.
Likewise, the <code>JsonAppointmentBookStorage</code> class can be reused to store the details of both staff duty shifts and patient&#8217;s appointments.</p>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">4.3. Undo/Redo feature</a></h3>
<div class="paragraph">
<p>The undo/redo feature allows users to revert the action of a command or redo a command action that has been undone.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">4.3.1. Current Implementation</a></h4>
<div class="paragraph">
<p>A Command can be classified as one of two types, a <code>ReversibleCommand</code> or <code>NonActionableCommand</code>.
A <code>ReversibleCommand</code> refers to any command which modifies the data stored by the system.
Conversely, a <code>NonActionableCommand</code> only reads data from the system&#8217;s model without modifying it.</p>
</div>
<div class="paragraph">
<p>By pairing of two <code>ReversibleCommand</code> commands together, we can describe an action that has the undone.</p>
</div>
<div class="paragraph">
<p>This pairing is encapsulated as a <code>ReversibleActionPairCommand</code>, which consists of
two <code>ReversibleCommand</code> classes: the command to be executed and its inverse.</p>
</div>
<div class="paragraph">
<p>Consider that our appointment management system provides the user the ability to
add, cancelling and reschedule an appointment using the commands named
<code>AddApptCommand</code>, <code>CancelApptCommand</code>, <code>EditApptCommand</code> respectively.</p>
</div>
<div class="paragraph">
<p>By executing the <code>CancelApptCommand</code>, we can mimic the undo functionality of the <code>AddApptCommand</code>,
which is simply cancelling the same appointment the <code>AddApptCommand</code> had scheduled.</p>
</div>
<div class="paragraph">
<p>The following activity diagram describes the sequence of events when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CommitActivityDiagram.png" alt="CommitActivityDiagram" width="400">
</div>
<div class="title">Figure 4. Commit Activity Diagram</div>
</div>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by the <code>CommandHistoryManager</code> class, which is found in the <code>logic</code> component.
The history stores actions that can be undone as a <code>ReversibleActionPairCommand</code> and implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CommandHistoryManager#addToCommandHistory()</code>&#8201;&#8212;&#8201;Saves the most recent command that modifies the system&#8217;s model in its undo history.</p>
</li>
<li>
<p><code>CommandHistoryManager#performUndo()</code>&#8201;&#8212;&#8201;Performs the inverse operation to restore the system to its previous state.</p>
</li>
<li>
<p><code>CommandHistoryManager#performRedo()</code>&#8201;&#8212;&#8201;Restores a previously undone state by re-executing the respective undone command.</p>
</li>
<li>
<p><code>CommandHistoryManager#canUndo()</code>&#8201;&#8212;&#8201;Checks if there are previous states to be restored</p>
</li>
<li>
<p><code>CommandHistoryManager#canRedo()</code>&#8201;&#8212;&#8201;Checks if the a previously undone state can be restored</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are all contained within the <code>Logic</code> component and do not depend on any other components.</p>
</div>
<div class="paragraph">
<p>On initialisation of the application, the undo and redo stack of the <code>CommandHistoryManager</code> would be empty.
As the user executes commands that modifies the data stored by the system, the commands invokes <code>CommandHistoryManager#addToCommandHistory()</code>
and are pushed in the undo stack of the <code>CommandHistoryManager</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves.</p>
</div>
<div class="paragraph">
<p>Step 1. Suppose that the user has already executed several commands earlier, with the latest command being <code class="blue">newpatient &#8230;&#8203; -name John Doe</code>,
which registers a patient named 'John Doe'.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState2.png" alt="UndoRedoState2" width="500">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user now decides that adding the patient was a mistake, and decides to undo that action by executing the <code class="Blue">undo</code> command.
The undo command will call <code>CommandHistoryManager#performUndo()</code>, which in turn
invokes the <code>UnregisterPatientCommand</code> which reverts the system to its previous state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
<div class="title">Figure 5. The sequence diagram shows how the undo operation works:</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An empty undo stack implies that there are no previous states to be restored.
The <code class="blue">undo</code> command uses <code>Model#canUndoAddressBook()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.</p>
</div>
<div class="paragraph">
<p>After the successful execution of the <code>UnregisterPatientCommand</code> command,
the action from the top undo stack is transferred to the top of the redo history stack.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState3.png" alt="UndoRedoState3" width="500">
</div>
</div>
<div class="paragraph">
<p>Conversely, the <code class="blue">redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>CommandHistoryManager#performRedo()</code> which restores the address book to that state by invoking the original command again.
Similarly, if the <code>commandRedoHistory</code> is empty, then there are no undone states to restore. The redo command uses <code>Model#canRedoAddressBook()</code> to check if this is the case.
If so, it will return an error to the user rather than attempting to perform the redo.</p>
</div>
<div class="paragraph">
<p>Step 3. The user then decides to execute the command <code class="blue">patient S9482963D</code>.
A command that searches for a patient whose id matches <code class="blue">S9482963D</code>,
only reads and does not modify any data from the model.
Such commands will not invoke <code>CommandHistoryManager#addToCommandHistory()</code>,
<code>CommandHistoryManager#performUndo()</code>, <code>CommandHistoryManager#performRedo()</code>.</p>
</div>
<div class="paragraph">
<p>Thus, the undo and redo stacks remain unchanged.</p>
</div>
<div class="paragraph">
<p>Step 4. The user executes <code class="blue">newappt &#8230;&#8203;</code> to schedule a new appointment for a patient.
This action invokes <code>CommandHistoryManager#addToCommandHistory()</code>, pushing the new action pair command in the undo stack.
However, the commands in the redo stack will be purged.</p>
</div>
<div class="paragraph">
<p>We designed it this way because it no longer makes sense to redo the <code class="blue">newpatient &#8230;&#8203; -name John Doe</code>​ command.
This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoState5.png" alt="UndoRedoState5" width="500">
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 15:56:21 UTC</div></div></div></body></html>